function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=r.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,r){n[e]=r},r.parcelRequired7c6=o);var a=o("7Y9D8");o("fZKcF");var i=o("bXMym"),u=o("jg8M1");const s=new SimpleLightbox(".gallery a"),c={form:document.querySelector(".search-form"),input:document.querySelector(".search-form-input"),container:document.querySelector(".gallery"),guard:document.querySelector(".guard")};let l=1,f=0;const d=new IntersectionObserver((function(r){r.forEach((r=>{r.isIntersecting&&(l+=1,(0,u.serviceSearch)(c.input.value,l).then((r=>{const{data:{hits:t,totalHits:n}}=r;c.container.insertAdjacentHTML("beforeend",(0,i.createMarkup)(t)),s.refresh(),f+=t.length,f>=n&&(d.unobserve(c.guard),e(a).Notify.info("We're sorry, but you've reached the end of search results."))})).catch((r=>e(a).Notify.failure(r.message))))}))}),{root:null,rootMargin:"400px"});c.form.addEventListener("submit",(function(r){if(r.preventDefault(),c.container.innerHTML="",d.unobserve(c.guard),""===c.input.value.trim())return void e(a).Notify.info("Please enter the details of your request");l=1,(0,u.serviceSearch)(c.input.value,l).then((r=>{const{data:{hits:t,totalHits:n}}=r;0!==t.length?(e(a).Notify.success(`Hooray! We found ${n} images"`),c.container.insertAdjacentHTML("beforeend",(0,i.createMarkup)(t)),s.refresh(),f+=t.length,f<n&&d.observe(c.guard)):e(a).Notify.failure("Sorry, there are no images matching your search query. Please try again.")})).catch((r=>e(a).Notify.failure(r.message)))}));
//# sourceMappingURL=infinite-scroll.c8ccf3c4.js.map
