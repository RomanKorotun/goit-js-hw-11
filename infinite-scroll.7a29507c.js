function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=r.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,r){n[e]=r},r.parcelRequired7c6=o);var a=o("7Y9D8");o("fZKcF");var i=o("bXMym"),s=o("jg8M1");const c=new SimpleLightbox(".gallery a"),u={form:document.querySelector(".search-form"),container:document.querySelector(".gallery"),guard:document.querySelector(".guard")};let l=1,f=0;const d=new IntersectionObserver((function(r){r.forEach((r=>{r.isIntersecting&&(l+=1,(0,s.serviceSearchLoadMore)(l).then((r=>{const{data:{hits:t,totalHits:n}}=r;u.container.insertAdjacentHTML("beforeend",(0,i.createMarkup)(t)),c.refresh(),f+=t.length,f>=n&&(d.unobserve(u.guard),e(a).Notify.info("We're sorry, but you've reached the end of search results."))})).catch((r=>e(a).Notify.failure(r.message))))}))}),{root:null,rootMargin:"300px"});u.form.addEventListener("submit",(function(r){r.preventDefault(),u.container.innerHTML="";const{searchQuery:t}=r.currentTarget.elements;if(""===t.value.trim())return void e(a).Notify.info("Please enter the details of your request");(0,s.serviceSearch)(t.value,l).then((r=>{const{data:{hits:t,totalHits:n}}=r;0!==t.length?(e(a).Notify.success(`Hooray! We found ${n} images"`),u.container.insertAdjacentHTML("beforeend",(0,i.createMarkup)(t)),c.refresh(),f+=t.length,f<n&&d.observe(u.guard)):e(a).Notify.failure("Sorry, there are no images matching your search query. Please try again.")})).catch((r=>e(a).Notify.failure(r.message)))}));
//# sourceMappingURL=infinite-scroll.7a29507c.js.map
