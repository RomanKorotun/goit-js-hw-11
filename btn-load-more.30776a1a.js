!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=r.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var r=o[e];delete o[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,r){o[e]=r},r.parcelRequired7c6=n);var a=n("6JpON");n("5IjG7");var i=n("4AS3O"),l=n("bu6fV"),c=new SimpleLightbox(".gallery a"),s={form:document.querySelector(".search-form"),container:document.querySelector(".gallery"),btnLoadMore:document.querySelector(".js-load-more")},d=1,u=0;s.form.addEventListener("submit",(function(r){r.preventDefault(),s.container.innerHTML="",s.btnLoadMore.classList.replace("load-more","load-more-hidden");var t=r.currentTarget.elements.searchQuery;if(""===t.value.trim())return void e(a).Notify.info("Please enter the details of your request");(0,l.serviceSearch)(t.value,d).then((function(r){var t=r.data,o=t.hits,n=t.totalHits;0!==o.length?(e(a).Notify.success("Hooray! We found ".concat(n,' images"')),s.container.insertAdjacentHTML("beforeend",(0,i.createMarkup)(o)),c.refresh(),(u+=o.length)<n&&s.btnLoadMore.classList.replace("load-more-hidden","load-more")):e(a).Notify.failure("Sorry, there are no images matching your search query. Please try again.")})).catch((function(r){return e(a).Notify.failure(r.message)}))})),s.btnLoadMore.addEventListener("click",(function(){d+=1,(0,l.serviceSearchLoadMore)(d).then((function(r){var t=r.data,o=t.hits,n=t.totalHits;if(0!==o.length){s.container.insertAdjacentHTML("beforeend",(0,i.createMarkup)(o));var l=s.container.firstElementChild.getBoundingClientRect().height;window.scrollBy({top:1.6*l,behavior:"smooth"}),c.refresh(),(u+=o.length)>=n&&(s.btnLoadMore.classList.replace("load-more","load-more-hidden"),e(a).Notify.info("We're sorry, but you've reached the end of search results."))}else e(a).Notify.failure("Sorry, there are no images matching your search query. Please try again.")})).catch((function(r){return e(a).Notify.failure(r.message)}))}))}();
//# sourceMappingURL=btn-load-more.30776a1a.js.map
